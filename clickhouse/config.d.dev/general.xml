<?xml version="1.0" encoding="UTF-8"?>
<clickhouse>
  <listen_host>0.0.0.0</listen_host>
  <https_port>9999</https_port>
  <tcp_port_secure>9440</tcp_port_secure>
  <openSSL>
    <server>
        <caConfig>/cert/ca.pem</caConfig>
        <certificateFile>/cert/server-fullchain.pem</certificateFile>
        <privateKeyFile>/cert/server-key.pem</privateKeyFile>
        <dhParamsFile>/cert/dhparam.pem</dhParamsFile>
        <verificationMode>strict</verificationMode>
        <loadDefaultCAFile>false</loadDefaultCAFile>
        <cacheSessions>true</cacheSessions>
        <preferServerCiphers>true</preferServerCiphers>
        <requireTLSv1_2>true</requireTLSv1_2>
        <verificationDepth>1</verificationDepth>
        <cipherList>ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384</cipherList>
    </server>
    <client>
        <caConfig>/cert/ca.pem</caConfig>
        <certificateFile>/cert/client-fullchain.pem</certificateFile>
        <privateKeyFile>/cert/client-key.pem</privateKeyFile>
        <dhParamsFile>/cert/dhparam.pem</dhParamsFile>
        <verificationMode>strict</verificationMode>
        <loadDefaultCAFile>false</loadDefaultCAFile>
        <cacheSessions>true</cacheSessions>
        <preferServerCiphers>true</preferServerCiphers>
        <requireTLSv1_2>true</requireTLSv1_2>
        <verificationDepth>1</verificationDepth>
        <cipherList>ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384</cipherList>
        <invalidCertificateHandler>
          <name>RejectCertificateHandler</name>
        </invalidCertificateHandler>
    </client>
</openSSL>
</clickhouse>
